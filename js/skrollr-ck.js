(function(e,t,n){"use strict";function $(n){u=t.documentElement;a=t.body;z();gt=this;n=n||{};Tt=n.constants||{};if(n.easing)for(var r in n.easing)V[r]=n.easing[r];Ft=n.edgeStrategy||"set";wt={beforerender:n.beforerender,render:n.render};Et=n.forceHeight!==!1;Et&&(xt=n.scale||1);Nt=n.mobileDeceleration||x;Dt=n.smoothScrolling!==!1;Pt=n.smoothScrollingDuration||T;Ht={targetTop:gt.getScrollTop()};It=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||e.opera)})();if(It){bt=t.getElementById("skrollr-body");bt&&st();J();ht(u,[g,w],[y])}else ht(u,[g,b],[y]);gt.refresh();ot(e,"resize orientationchange",function(){var e=u.clientWidth,t=u.clientHeight;if(t!==Ot||e!==At){Ot=t;At=e;Mt=!0}});var i=W();(function s(){G();zt=i(s)})();return gt}var r=e.skrollr={get:function(){return gt},init:function(e){return gt||new $(e)},VERSION:"0.6.17"},i=Object.prototype.hasOwnProperty,s=e.Math,o=e.getComputedStyle,u,a,f="touchstart",l="touchmove",c="touchcancel",h="touchend",p="skrollable",d=p+"-before",v=p+"-between",m=p+"-after",g="skrollr",y="no-"+g,b=g+"-desktop",w=g+"-mobile",E="linear",S=1e3,x=.004,T=200,N="start",C="end",k="center",L="bottom",A="___skrollable_id",O=/^(?:input|textarea|button|select)$/i,M=/^\s+|\s+$/g,_=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,D=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,P=/^([a-z\-]+)\[(\w+)\]$/,H=/-([a-z])/g,B=function(e,t){return t.toUpperCase()},j=/[\-+]?[\d]*\.?[\d]+/g,F=/\{\?\}/g,I=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,q=/[a-z\-]+-gradient/g,R="",U="",z=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(!o)return;var t=o(a,null);for(var n in t){R=n.match(e)||+n==n&&t[n].match(e);if(R)break}if(!R){R=U="";return}R=R[0];if(R.slice(0,1)==="-"){U=R;R={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[R]}else U="-"+R.toLowerCase()+"-"},W=function(){var t=e.requestAnimationFrame||e[R.toLowerCase()+"RequestAnimationFrame"],n=vt();if(It||!t)t=function(t){var r=vt()-n,i=s.max(0,1e3/60-r);return e.setTimeout(function(){n=vt();t()},i)};return t},X=function(){var t=e.cancelAnimationFrame||e[R.toLowerCase()+"CancelAnimationFrame"];if(It||!t)t=function(t){return e.clearTimeout(t)};return t},V={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-s.cos(e*s.PI)/2+.5},sqrt:function(e){return s.sqrt(e)},outCubic:function(e){return s.pow(e-1,3)+1},bounce:function(e){var t;if(e<=.5083)t=3;else if(e<=.8489)t=9;else if(e<=.96208)t=27;else{if(!(e<=.99981))return 1;t=91}return 1-s.abs(3*s.cos(e*t*1.028)/t)}};$.prototype.refresh=function(e){var r,i,s=!1;if(e===n){s=!0;yt=[];jt=0;e=t.getElementsByTagName("*")}else e=[].concat(e);r=0;i=e.length;for(;r<i;r++){var o=e[r],u=o,a=[],f=Dt,l=Ft;if(!o.attributes)continue;var c=0,h=o.attributes.length;for(;c<h;c++){var d=o.attributes[c];if(d.name==="data-anchor-target"){u=t.querySelector(d.value);if(u===null)throw'Unable to find anchor target "'+d.value+'"';continue}if(d.name==="data-smooth-scrolling"){f=d.value!=="off";continue}if(d.name==="data-edge-strategy"){l=d.value;continue}var v=d.name.match(_);if(v===null)continue;var m={props:d.value,element:o};a.push(m);var g=v[1];g=g&&Tt[g.substr(1)]||0;var y=v[2];if(/p$/.test(y)){m.isPercentage=!0;m.offset=((y.slice(0,-1)|0)+g)/100}else m.offset=(y|0)+g;var b=v[3],w=v[4]||b;if(!b||b===N||b===C){m.mode="absolute";if(b===C)m.isEnd=!0;else if(!m.isPercentage){m.frame=m.offset*xt;delete m.offset}}else{m.mode="relative";m.anchors=[b,w]}}if(!a.length)continue;var E,S,x;if(!s&&A in o){x=o[A];E=yt[x].styleAttr;S=yt[x].classAttr}else{x=o[A]=jt++;E=o.style.cssText;S=ct(o)}yt[x]={element:o,styleAttr:E,classAttr:S,anchorTarget:u,keyFrames:a,smoothScrolling:f,edgeStrategy:l};ht(o,[p],[])}ft();r=0;i=e.length;for(;r<i;r++){var T=yt[e[r][A]];if(T===n)continue;Y(T);et(T)}return gt};$.prototype.relativeToAbsolute=function(e,t,n){var r=u.clientHeight,i=e.getBoundingClientRect(),s=i.top,o=i.bottom-i.top;t===L?s-=r:t===k&&(s-=r/2);n===L?s+=o:n===k&&(s+=o/2);s+=gt.getScrollTop();return s+.5|0};$.prototype.animateTo=function(e,t){t=t||{};var r=vt(),i=gt.getScrollTop();_t={startTop:i,topDiff:e-i,targetTop:e,duration:t.duration||S,startTime:r,endTime:r+(t.duration||S),easing:V[t.easing||E],done:t.done};if(!_t.topDiff){_t.done&&_t.done.call(gt,!1);_t=n}return gt};$.prototype.stopAnimateTo=function(){_t&&_t.done&&_t.done.call(gt,!0);_t=n};$.prototype.isAnimatingTo=function(){return!!_t};$.prototype.setScrollTop=function(t,n){Bt=n===!0;It?qt=s.min(s.max(t,0),St):e.scrollTo(0,t);return gt};$.prototype.getScrollTop=function(){return It?qt:e.pageYOffset||u.scrollTop||a.scrollTop||0};$.prototype.getMaxScrollTop=function(){return St};$.prototype.on=function(e,t){wt[e]=t;return gt};$.prototype.off=function(e){delete wt[e];return gt};$.prototype.destroy=function(){var e=X();e(zt);at();ht(u,[y],[g,b,w]);var t=0,i=yt.length;for(;t<i;t++)it(yt[t].element);u.style.overflow=a.style.overflow="auto";u.style.height=a.style.height="auto";bt&&r.setStyle(bt,"transform","none");gt=n;bt=n;wt=n;Et=n;St=0;xt=1;Tt=n;Nt=n;Ct="down";kt=-1;At=0;Ot=0;Mt=!1;_t=n;Dt=n;Pt=n;Ht=n;Bt=n;jt=0;Ft=n;It=!1;qt=0;Rt=n};var J=function(){var r,i,o,p,d,v,m,g,y,b,w,E;ot(u,[f,l,c,h].join(" "),function(e){var u=e.changedTouches[0];p=e.target;while(p.nodeType===3)p=p.parentNode;d=u.clientY;v=u.clientX;b=e.timeStamp;O.test(p.tagName)||e.preventDefault();switch(e.type){case f:r&&r.blur();gt.stopAnimateTo();r=p;i=m=d;o=v;y=b;break;case l:g=d-m;E=b-w;gt.setScrollTop(qt-g,!0);m=d;w=b;break;default:case c:case h:var a=i-d,S=o-v,x=S*S+a*a;if(x<49){if(!O.test(r.tagName)){r.focus();var T=t.createEvent("MouseEvents");T.initMouseEvent("click",!0,!0,e.view,1,u.screenX,u.screenY,u.clientX,u.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);r.dispatchEvent(T)}return}r=n;var N=g/E;N=s.max(s.min(N,3),-3);var C=s.abs(N/Nt),k=N*C+.5*Nt*C*C,L=gt.getScrollTop()-k,A=0;if(L>St){A=(St-L)/k;L=St}else if(L<0){A=-L/k;L=0}C*=1-A;gt.animateTo(L+.5|0,{easing:"outCubic",duration:C})}});e.scrollTo(0,0);u.style.overflow=a.style.overflow="hidden"},K=function(){var e,t,n,r,i,o,a,f,l;f=0;l=yt.length;for(;f<l;f++){e=yt[f];t=e.element;n=e.anchorTarget;r=e.keyFrames;i=0;o=r.length;for(;i<o;i++){a=r[i];var c=a.offset;if(a.isPercentage){c*=u.clientHeight;a.frame=c}if(a.mode==="relative"){it(t);a.frame=gt.relativeToAbsolute(n,a.anchors[0],a.anchors[1])-c;it(t,!0)}Et&&!a.isEnd&&a.frame>St&&(St=a.frame)}}St=s.max(St,lt());f=0;l=yt.length;for(;f<l;f++){e=yt[f];r=e.keyFrames;i=0;o=r.length;for(;i<o;i++){a=r[i];a.isEnd&&(a.frame=St-a.offset)}e.keyFrames.sort(mt)}},Q=function(e,t){var n=0,s=yt.length;for(;n<s;n++){var o=yt[n],u=o.element,a=o.smoothScrolling?e:t,f=o.keyFrames,l=f[0].frame,c=f[f.length-1].frame,h=a<l,g=a>c,y=f[h?0:f.length-1],b,w;if(h||g){if(h&&o.edge===-1||g&&o.edge===1)continue;ht(u,[h?d:m],[d,v,m]);o.edge=h?-1:1;switch(o.edgeStrategy){case"reset":it(u);continue;case"ease":a=y.frame;break;default:case"set":var E=y.props;for(b in E)if(i.call(E,b)){w=rt(E[b].value);r.setStyle(u,b,w)}continue}}else if(o.edge!==0){ht(u,[p,v],[d,m]);o.edge=0}var S=0,x=f.length-1;for(;S<x;S++)if(a>=f[S].frame&&a<=f[S+1].frame){var T=f[S],N=f[S+1];for(b in T.props)if(i.call(T.props,b)){var C=(a-T.frame)/(N.frame-T.frame);C=T.props[b].easing(C);w=nt(T.props[b].value,N.props[b].value,C);w=rt(w);r.setStyle(u,b,w)}break}}},G=function(){if(Mt){Mt=!1;ft()}var e=gt.getScrollTop(),t,i=vt(),s;if(_t){if(i>=_t.endTime){e=_t.targetTop;t=_t.done;_t=n}else{s=_t.easing((i-_t.startTime)/_t.duration);e=_t.startTop+s*_t.topDiff|0}gt.setScrollTop(e,!0)}else if(!Bt){var o=Ht.targetTop-e;o&&(Ht={startTop:kt,topDiff:e-kt,targetTop:e,startTime:Lt,endTime:Lt+Pt});if(i<=Ht.endTime){s=V.sqrt((i-Ht.startTime)/Pt);e=Ht.startTop+s*Ht.topDiff|0}}It&&bt&&r.setStyle(bt,"transform","translate(0, "+ -qt+"px) "+Rt);if(Bt||kt!==e){Ct=e>kt?"down":e<kt?"up":Ct;Bt=!1;var u={curTop:e,lastTop:kt,maxTop:St,direction:Ct},a=wt.beforerender&&wt.beforerender.call(gt,u);if(a!==!1){Q(e,gt.getScrollTop());kt=e;wt.render&&wt.render.call(gt,u)}t&&t.call(gt,!1)}Lt=i},Y=function(e){var t=0,n=e.keyFrames.length;for(;t<n;t++){var r=e.keyFrames[t],i,s,o,u={},a;while((a=D.exec(r.props))!==null){o=a[1];s=a[2];i=o.match(P);if(i!==null){o=i[1];i=i[2]}else i=E;s=s.indexOf("!")?Z(s):[s.slice(1)];u[o]={value:s,easing:V[i]}}r.props=u}},Z=function(e){var t=[];I.lastIndex=0;e=e.replace(I,function(e){return e.replace(j,function(e){return e/255*100+"%"})});if(U){q.lastIndex=0;e=e.replace(q,function(e){return U+e})}e=e.replace(j,function(e){t.push(+e);return"{?}"});t.unshift(e);return t},et=function(e){var t={},n,r;n=0;r=e.keyFrames.length;for(;n<r;n++)tt(e.keyFrames[n],t);t={};n=e.keyFrames.length-1;for(;n>=0;n--)tt(e.keyFrames[n],t)},tt=function(e,t){var n;for(n in t)i.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},nt=function(e,t,n){var r,i=e.length;if(i!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var s=[e[0]];r=1;for(;r<i;r++)s[r]=e[r]+(t[r]-e[r])*n;return s},rt=function(e){var t=1;F.lastIndex=0;return e[0].replace(F,function(){return e[t++]})},it=function(e,t){e=[].concat(e);var n,r,i=0,s=e.length;for(;i<s;i++){r=e[i];n=yt[r[A]];if(!n)continue;if(t){r.style.cssText=n.dirtyStyleAttr;ht(r,n.dirtyClassAttr)}else{n.dirtyStyleAttr=r.style.cssText;n.dirtyClassAttr=ct(r);r.style.cssText=n.styleAttr;ht(r,n.classAttr)}}},st=function(){Rt="translateZ(0)";r.setStyle(bt,"transform",Rt);var e=o(bt),t=e.getPropertyValue("transform"),n=e.getPropertyValue(U+"transform"),i=t&&t!=="none"||n&&n!=="none";i||(Rt="")};r.setStyle=function(e,t,n){var r=e.style;t=t.replace(H,B).replace("-","");if(t==="zIndex")isNaN(n)?r[t]=n:r[t]=""+(n|0);else if(t==="float")r.styleFloat=r.cssFloat=n;else try{R&&(r[R+t.slice(0,1).toUpperCase()+t.slice(1)]=n);r[t]=n}catch(i){}};var ot=r.addEvent=function(t,n,r){var i=function(t){t=t||e.event;t.target||(t.target=t.srcElement);t.preventDefault||(t.preventDefault=function(){t.returnValue=!1});return r.call(this,t)};n=n.split(" ");var s,o=0,u=n.length;for(;o<u;o++){s=n[o];t.addEventListener?t.addEventListener(s,r,!1):t.attachEvent("on"+s,i);Ut.push({element:t,name:s,listener:r})}},ut=r.removeEvent=function(e,t,n){t=t.split(" ");var r=0,i=t.length;for(;r<i;r++)e.removeEventListener?e.removeEventListener(t[r],n,!1):e.detachEvent("on"+t[r],n)},at=function(){var e,t=0,n=Ut.length;for(;t<n;t++){e=Ut[t];ut(e.element,e.name,e.listener)}Ut=[]},ft=function(){var e=gt.getScrollTop();St=0;Et&&!It&&(a.style.height="auto");K();Et&&!It&&(a.style.height=St+u.clientHeight+"px");It?gt.setScrollTop(s.min(gt.getScrollTop(),St)):gt.setScrollTop(e,!0);Bt=!0},lt=function(){var e=bt&&bt.offsetHeight||0,t=s.max(e,a.scrollHeight,a.offsetHeight,u.scrollHeight,u.offsetHeight,u.clientHeight);return t-u.clientHeight},ct=function(t){var n="className";if(e.SVGElement&&t instanceof e.SVGElement){t=t[n];n="baseVal"}return t[n]},ht=function(t,r,i){var s="className";if(e.SVGElement&&t instanceof e.SVGElement){t=t[s];s="baseVal"}if(i===n){t[s]=r;return}var o=t[s],u=0,a=i.length;for(;u<a;u++)o=dt(o).replace(dt(i[u])," ");o=pt(o);var f=0,l=r.length;for(;f<l;f++)dt(o).indexOf(dt(r[f]))===-1&&(o+=" "+r[f]);t[s]=pt(o)},pt=function(e){return e.replace(M,"")},dt=function(e){return" "+e+" "},vt=Date.now||function(){return+(new Date)},mt=function(e,t){return e.frame-t.frame},gt,yt,bt,wt,Et,St=0,xt=1,Tt,Nt,Ct="down",kt=-1,Lt=vt(),At=0,Ot=0,Mt=!1,_t,Dt,Pt,Ht,Bt,jt=0,Ft,It=!1,qt=0,Rt,Ut=[],zt})(window,document);